<!DOCTYPE html>
<html>

<head>
	<meta charset="utf-8" />
	<title>登入驗證頁面
	</title>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<!-- Compiled and minified CSS -->
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">

	<!-- Compiled and minified JavaScript -->
	<script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>

	<!-- LIFF v1只能用到2021年4月 https://developers.line.biz/en/docs/liff/versioning-policy/ -->
	<!-- LIFF v2從2019年10月啟用 https://developers.line.biz/en/docs/liff/developing-liff-apps/#developing-a-liff-app -->
	<script src="https://static.line-scdn.net/liff/edge/versions/2.3.0/sdk.js"></script>
	<img id = "pic">
	<p id = "name"> 使用者名稱</p>
	<p id = "UID">使用者UID</p>
	<button id = "logout" onclick="logout()">登出</button>
	<script>
		async function main() {
			await liff.init({
				liffId: '1655371574-rK5awXB5'
			})
			if (liff.isLoggedIn()) {
				getUserProfile()
			}else {
				liff.login()
			}
		}
		main()
		async function getUserProfile(){
			const profile = await liff.getUserProfile()
			document.getElementById("pic").src = profile.pictureUrl
			document.getElementById("name").append(profile.displayName)
		
			
		}

		
	</script>

	<style>
		div {
			word-wrap: break-word;
			word-break: normal;
		}
	</style>

</head>

<body>



	<hr />
	<div>LINE版本: <span id="getLineVersion"></span></div>
	<div>內建瀏覽: <span id="isInClient"></span></div>
	<div>LIFF尺寸: <span id="getContextViewType"></span></div>
	<div>來自何處: <span id="getContextType"></span></div>
	<div>1對1聊天: <span id="getContextUtouId"></span></div>
	<div>群組序號: <span id="getContextGroupId"></span></div>
	<div>聊天室號: <span id="getContextRoomId"></span></div>
	<div>登入與否: <span id="isLoggedIn"></span></div>
	<hr />
	<div>使用名稱: <span id="getProfileDisplayName"></span></div>
	<div>使用序號: <span id="getProfileUserId"></span></div>
	<div>頭像圖檔: <span id="getProfilePictureUrl"></span></div>
	<hr />
	<div>作業系統: <span id="getOS"></span></div>
	<div>使用語言: <span id="getLanguage"></span></div>
	<hr />

</body>

</html>